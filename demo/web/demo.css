/* Demo toolbar UX polish */
:root {
  --toolbar-height: 48px;
  --toolbar-bg: color-mix(in oklab, Canvas 86%, transparent);
  --toolbar-border: color-mix(in oklab, CanvasText 12%, transparent);
  --btn-bg: color-mix(in oklab, Canvas 92%, transparent);
  --btn-bg-hover: color-mix(in oklab, Canvas 88%, transparent);
  --btn-bg-active: color-mix(in oklab, AccentColor 18%, transparent);
  --btn-border: color-mix(in oklab, CanvasText 12%, transparent);
  --primary: color-mix(in oklab, AccentColor 90%, #2b6cf0 90%);
}

@media (prefers-color-scheme: dark) {
  :root {
    --btn-bg: color-mix(in oklab, Canvas 84%, transparent);
    --btn-bg-hover: color-mix(in oklab, Canvas 80%, transparent);
  }
}

.hidden { display: none !important; }

.toolbar {
  position: sticky;
  top: 0; inset-inline: 0;
  height: var(--toolbar-height);
  display: flex; align-items: center; gap: 10px;
  padding: 8px 12px;
  background: var(--toolbar-bg);
  backdrop-filter: saturate(140%) blur(6px);
  border-bottom: 1px solid var(--toolbar-border);
  z-index: 5;
}

.toolbar .divider { width: 1px; height: 28px; background: var(--btn-border); }
.toolbar .spacer { flex: 1; }

.toolbar button { border: 1px solid var(--btn-border); background: var(--btn-bg); color: inherit; }
.toolbar button { height: 32px; padding: 6px 10px; border-radius: 8px; cursor: pointer; }
.toolbar button:hover { background: var(--btn-bg-hover); }
.toolbar button:active { background: var(--btn-bg-active); }
.toolbar button:disabled { opacity: .5; cursor: not-allowed; }

.toolbar .btn.primary { background: var(--primary); color: white; border-color: transparent; }
.toolbar .btn.primary:hover { filter: brightness(1.05); }

.segmented { display: inline-flex; gap: 0; border: 1px solid var(--btn-border); border-radius: 10px; overflow: clip; }
.segmented > button { border: none; background: transparent; padding: 6px 10px; }
.segmented > button + button { border-inline-start: 1px solid var(--btn-border); }
.segmented > button[aria-pressed="true"] { background: var(--btn-bg-active); color: AccentColorText; }

.icon { position: relative; padding-inline-start: 28px !important; }
.icon::before {
  content: ""; position: absolute; left: 8px; top: 50%; translate: 0 -50%;
  width: 16px; height: 16px; background-repeat: no-repeat; background-size: 16px 16px;
}

/* Icons (point to copied web/images) */
[data-icon="open"]::before { background-image: url(./images/toolbarButton-openFile.svg); }
[data-icon="select"]::before { background-image: url(./images/secondaryToolbarButton-selectTool.svg); }
[data-icon="freetext"]::before { background-image: url(./images/toolbarButton-editorFreeText.svg); }
[data-icon="highlight"]::before { background-image: url(./images/toolbarButton-editorHighlight.svg); }
[data-icon="ink"]::before { background-image: url(./images/toolbarButton-editorInk.svg); }
[data-icon="stamp"]::before { background-image: url(./images/toolbarButton-editorStamp.svg); }
[data-icon="signature"]::before { background-image: url(./images/toolbarButton-editorSignature.svg); }
[data-icon="prev"]::before { background-image: url(./images/toolbarButton-pageUp.svg); }
[data-icon="next"]::before { background-image: url(./images/toolbarButton-pageDown.svg); }
[data-icon="zoom-in"]::before { background-image: url(./images/toolbarButton-zoomIn.svg); }
[data-icon="zoom-out"]::before { background-image: url(./images/toolbarButton-zoomOut.svg); }

.page-ctrls { display: inline-flex; align-items: center; gap: 6px; }
.page-ctrls .page-input { display: inline-flex; align-items: center; gap: 6px; }
.page-ctrls input[type="number"] { width: 64px; height: 32px; padding: 4px 8px; border: 1px solid var(--btn-border); border-radius: 8px; background: var(--btn-bg); }
.page-ctrls .total { opacity: .7; }

.zoom-ctrls { display: inline-flex; align-items: center; gap: 8px; }
.zoom-label { min-width: 56px; text-align: center; padding: 4px 8px; border-radius: 6px; border: 1px solid var(--btn-border); background: var(--btn-bg); cursor: pointer; }

/* Save spinner */
.btn .spinner { display: none; width: 14px; height: 14px; border: 2px solid rgba(255,255,255,.5); border-top-color: white; border-radius: 50%; margin-right: 8px; animation: spin 0.8s linear infinite; }
.btn.loading .spinner { display: inline-block; }
.btn.loading .label { opacity: .8; }
@keyframes spin { from { transform: rotate(0); } to { transform: rotate(360deg); } }

/* Dropzone */
#viewerContainer.dropzone { outline: 2px dashed transparent; transition: outline-color .15s ease; }
#viewerContainer.dropzone.dragover { outline-color: var(--primary); }

/* Layout */
body { margin: 0; }
#viewerContainer { position: absolute; inset: var(--toolbar-height) 0 0 0; overflow: auto; }

/* Toast */
.toast { position: fixed; left: 50%; bottom: 16px; transform: translateX(-50%);
  background: color-mix(in oklab, Canvas 92%, AccentColor 10%);
  color: inherit; border: 1px solid var(--btn-border); border-radius: 8px;
  padding: 8px 12px; box-shadow: 0 4px 18px rgba(0,0,0,.12); z-index: 10; }
.toast.hidden { display: none; }
